<ion-content class="register-content ion-padding">
  <div class="register-center">
    <!-- LOGO GLOBAL -->
    <div class="logo-container">
      <img src="assets/icon/tinder.png" alt="Tinder Logo" class="tinder-logo" />
    </div>

    <!-- STEP 1 -->
    <div *ngIf="step === 1" class="register-card">
      <h2>My Information</h2>
      <app-input label="First name" [(ngModel)]="firstName" class="input-full"></app-input>
      <app-input label="Last name" [(ngModel)]="lastName" class="input-full"></app-input>
      <app-input label="Email" type="email" [(ngModel)]="email" class="input-full"></app-input>
      <app-input label="Password" type="password" [(ngModel)]="password" class="input-full"></app-input>
      <app-input label="Confirm Password" type="password" [(ngModel)]="confirmPassword" class="input-full"></app-input>
      <label class="input-label">Country</label>
      <ion-select [(ngModel)]="country" class="input-full" interface="popover" placeholder="Select your country">
        <ion-select-option *ngFor="let c of countries" [value]="c">{{ c }}</ion-select-option>
      </ion-select>
  <app-button label="Continue" type="gradient" class="btn-main" (click)="nextStep()"></app-button>
  <div *ngIf="errorMsg && step === 1" class="error">{{ errorMsg }}</div>
    </div>

    <!-- STEP 2 -->
    <div *ngIf="step === 2" class="register-card">
      <h2 class="register-title">I am a</h2>
      <div class="gender-btns">
        <app-button label="WOMAN" variant="outline" class="btn-gender" [class.selected]="gender==='woman'" (click)="gender='woman'"></app-button>
        <app-button label="MAN" variant="outline" class="btn-gender" [class.selected]="gender==='man'" (click)="gender='man'"></app-button>
      </div>
      <div class="show-gender">
        <ion-checkbox color="light"></ion-checkbox>
        <label>Show my gender on my profile</label>
      </div>
      <app-button label="Continue" type="gradient" class="btn-main" (click)="nextStep()"></app-button>
      <app-button label="Back" type="text" class="btn-back" (click)="prevStep()"></app-button>
    </div>

    <!-- STEP 3 -->
    <div *ngIf="step === 3" class="register-card">
      <h2>My birthdate</h2>
      <ion-input type="date" [(ngModel)]="birthdate" class="date-input input-full"></ion-input>
      <app-button label="Continue" type="gradient" class="btn-main" (click)="nextStep()"></app-button>
      <app-button label="Back" type="text" class="btn-back" (click)="prevStep()"></app-button>
    </div>

    <!-- STEP 4 -->
    <div *ngIf="step === 4" class="register-card">
      <h2>Passions</h2>
      <div class="tags">
        <ion-chip *ngFor="let p of ['Harry potter','Music','Video games','Travel','Yoga','Running','Gym','J-Pop','Instagram','K-Pop','Skate boarding','Reading','Lo-Fi','Hiking','Meditation','Sushi','Basketball','Football','Books','Camping','Beer','Movies']"
                  (click)="togglePassion(p)"
                  [class.active]="passions.includes(p)">
          {{ p }}
        </ion-chip>
      </div>
      <app-button label="Continue" type="gradient" class="btn-main" (click)="nextStep()"></app-button>
      <app-button label="Back" type="text" class="btn-back" (click)="prevStep()"></app-button>
    </div>

    <!-- STEP 5 -->
    <div *ngIf="step === 5" class="register-card">
      <h2>Add media</h2>
  <button ion-button class="add-media-btn" (click)="addMedia()">
    <ion-icon name="camera" style="font-size: 2em;"></ion-icon>
  </button>
  <div *ngIf="photos.length > 0" class="photos-count">Fotos seleccionadas: {{ photos.length }}</div>
      <div class="photos-preview">
        <img *ngFor="let p of photos" [src]="p" class="photo-thumb" />
      </div>
  <app-button label="Finish" type="gradient" class="btn-main" (click)="finishRegister()"></app-button>
  <div *ngIf="errorMsg && step === 5" class="error">{{ errorMsg }}</div>
      <app-button label="Back" type="text" class="btn-back" (click)="prevStep()"></app-button>
    </div>

  <!-- El mensaje de error global se elimina para evitar duplicados, ya se muestra en cada paso -->
  </div>

